{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const profileCardStyle={backgroundColor:'rgba(32, 35, 54, 0.95)',borderRadius:'16px',boxShadow:'0 8px 24px rgba(0,0,0,0.5)',padding:'2rem',maxWidth:'400px',margin:'2rem auto',color:'#e0e1e3'};const fieldStyle={marginBottom:'1rem',fontSize:'1.1rem'};const labelStyle={fontWeight:'700',color:'#40c6f6',marginRight:'0.5rem'};export default function ProfileInfo(){const[user,setUser]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const token=localStorage.getItem('jwtToken');if(!token){setError('Пользователь не авторизован');setLoading(false);return;}fetch('http://localhost:8080/api/profile',{headers:{'Authorization':'Bearer '+token}}).then(res=>{if(res.status===401)throw new Error('Требуется авторизация');if(!res.ok)throw new Error('Ошибка загрузки профиля');return res.json();}).then(data=>{setUser(data);setLoading(false);}).catch(err=>{setError(err.message);setLoading(false);});},[]);if(loading)return/*#__PURE__*/_jsx(\"div\",{style:{color:'#fff',textAlign:'center'},children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044F\\u2026\"});if(error)return/*#__PURE__*/_jsx(\"div\",{style:{color:'#ff6b6b',textAlign:'center'},children:error});const renderField=(label,value)=>/*#__PURE__*/_jsxs(\"div\",{style:fieldStyle,children:[/*#__PURE__*/_jsxs(\"span\",{style:labelStyle,children:[label,\":\"]}),\" \",value||'не указано']});return/*#__PURE__*/_jsxs(\"div\",{style:profileCardStyle,children:[/*#__PURE__*/_jsx(\"h2\",{style:{color:'#19dfa5',marginBottom:'1.5rem',fontWeight:'800'},children:\"\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"}),renderField('Email',user.email),renderField('Имя',user.name),renderField('Фамилия',user.surname),renderField('Телефон',user.phone)]});}","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","profileCardStyle","backgroundColor","borderRadius","boxShadow","padding","maxWidth","margin","color","fieldStyle","marginBottom","fontSize","labelStyle","fontWeight","marginRight","ProfileInfo","user","setUser","loading","setLoading","error","setError","token","localStorage","getItem","fetch","headers","then","res","status","Error","ok","json","data","catch","err","message","style","textAlign","children","renderField","label","value","email","name","surname","phone"],"sources":["/home/Polina/sber_hack/sber_hack/front/src/components/Profile/ProfileInfo.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nconst profileCardStyle = {\n  backgroundColor: 'rgba(32, 35, 54, 0.95)',\n  borderRadius: '16px',\n  boxShadow: '0 8px 24px rgba(0,0,0,0.5)',\n  padding: '2rem',\n  maxWidth: '400px',\n  margin: '2rem auto',\n  color: '#e0e1e3',\n};\n\nconst fieldStyle = {\n  marginBottom: '1rem',\n  fontSize: '1.1rem',\n};\n\nconst labelStyle = {\n  fontWeight: '700',\n  color: '#40c6f6',\n  marginRight: '0.5rem',\n};\n\nexport default function ProfileInfo() {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const token = localStorage.getItem('jwtToken');\n    if (!token) {\n      setError('Пользователь не авторизован');\n      setLoading(false);\n      return;\n    }\n\n    fetch('http://localhost:8080/api/profile', {\n      headers: { 'Authorization': 'Bearer ' + token },\n    })\n      .then(res => {\n        if (res.status === 401) throw new Error('Требуется авторизация');\n        if (!res.ok) throw new Error('Ошибка загрузки профиля');\n        return res.json();\n      })\n      .then(data => {\n        setUser(data);\n        setLoading(false);\n      })\n      .catch(err => {\n        setError(err.message);\n        setLoading(false);\n      });\n  }, []);\n\n  if (loading) return <div style={{ color: '#fff', textAlign: 'center' }}>Загрузка профиля…</div>;\n  if (error) return <div style={{ color: '#ff6b6b', textAlign: 'center' }}>{error}</div>;\n\n  const renderField = (label, value) => (\n    <div style={fieldStyle}>\n      <span style={labelStyle}>{label}:</span> {value || 'не указано'}\n    </div>\n  );\n\n  return (\n    <div style={profileCardStyle}>\n      <h2 style={{ color: '#19dfa5', marginBottom: '1.5rem', fontWeight: '800' }}>Профиль пользователя</h2>\n      {renderField('Email', user.email)}\n      {renderField('Имя', user.name)}\n      {renderField('Фамилия', user.surname)}\n      {renderField('Телефон', user.phone)}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}